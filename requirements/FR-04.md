# FR-04 – Endurbætt krafa
# Breyta stöðu bókar þegar hún er pöntuð [Sjá Issue #24 í Verkefni 1](https://github.com/ArnthorAtli/Krofugreiningar-Verkefni-1/issues/24)


## Upprunaleg krafa:   
| **Hvaða virkni á kerfið að bjóða?** | **Dæmi um aðgerð / prófun:** |
|------------------------------------|------------------------------|
| Breyta stöðu bókar þegar hún er pöntuð til þess að passa upp á það að hún fari ekki í hilluna þegar henni er skilað | Setja bók á lán, panta hana svo með öðrum notenda og sjá hvort að hún hefur verið breytt í stöðu pöntuð. |

**Greining á gæðum kröfunnar:**  
- Ófullkomleiki: já
- Tvíræðni: já, hvað er verið að meina með pöntuð? pöntuð af notenda, eða pöntuð af lager?
- Óljóst: já
- Sniðmát A&S frá sjónarhorni kerfisins? Nei
- þarf að bæta orðalag? Já, það vantar "skal" inn í þessara setningu.
- Of gróf krafa? Já, mætti skoða að breyta henni í fleiri kröfur.
- Tengja kröfur við samhengi? Já - virknikröfur - viðskiptakröfur - Notendakröfur - Ytri skil
- FR-4 ↔ BR-1 ↔ UR2
---
## Endurbætt útgáfa

| **Hvaða virkni á kerfið að bjóða?** | **Dæmi um aðgerð / prófun:** |
|------------------------------------|------------------------------|
| - Kerfið skal senda notanda tölvupóst þegar útlán bókar hefur verið staðfest.
-Kerfið skal aðeins senda tölvupóst ef notandi hefur: 1. Hakað við reitinn "Taka bók í útlán", 2. Hakað við reitinn "Samþykki skilmála", 3. Staðfest í loka-glugga með því að haka við reitinn "ég samþykki að taka þessa bók í útlán". Ef einhver þessara skrefa er sleppt skal kerfið ekki senda tölvupóst, heldur sýna villuboð "Til að ljúka útláni þarf að samþykkja alla reiti".  | Notandi hakar við reitina, og fær svo tölvupóst. |

#### Dæmi um notkun:

Notandi: Jón Jónsson
Bók: Harry Potter og viskusteinninn
Dagsetning útláns: 10. nóvember 2025

Jón hakar við „Taka bók í útlán“.

Hann les skilmála og hakar við „Samþykki skilmála“.

Hann staðfestir í loka-glugga: „Ég samþykki að taka þessa bók í útlán“.

Kerfið sendir tölvupóst með staðfestingu á útláni og skiladegi.

Ef hann hefði sleppt einhverju skrefinu, birtist villuboð og enginn tölvupóstur hefði verið sendur.


**Rökstuðningur fyrir breytingum:**  
Þessi útgáfa gerir kröfuna mælanlega og prófanlega. Hún tryggir að notandij samþykki skilmála meðvitað áður en bók er tekin í útlán, og að kerfið sendi tilkynningu aðeins þegar allar forsendur eru uppfylltar. Þetta dregur út ágreiningi og tryggir gagnsæi í ferlinu.

---

**Hver skrifaði:**  
Kristín Sesselja Róbertsdóttir

**Hver skrifaði Pull Request:**  
Arnþór Atli Atlason
