# FR-04 – Endurbætt krafa
# Breyta stöðu bókar þegar hún er pöntuð [Sjá Issue #24 í Verkefni 1](https://github.com/ArnthorAtli/Krofugreiningar-Verkefni-1/issues/24)


## Upprunaleg krafa:   
| **Hvaða virkni á kerfið að bjóða?** | **Dæmi um aðgerð / prófun:** |
|------------------------------------|------------------------------|
| Breyta stöðu bókar þegar hún er pöntuð til þess að passa upp á það að hún fari ekki í hilluna þegar henni er skilað | Setja bók á lán, panta hana svo með öðrum notenda og sjá hvort að hún hefur verið breytt í stöðu pöntuð. |

**Greining á gæðum kröfunnar:**  
- Ófullkomleiki: já, ekki útskýrt hvenær stöðubreytingin á að eiga sér stað eða hvað gerist ef bók er ekki tiltæk.
- Ótvíræð: Nei, hvað er verið að meina með pöntuð? pöntuð af notenda, eða pöntuð af lager, hver pantar?
- Óljóst: já, vantar aðgreiningu milli "pöntun" og "útlán".
- Sniðmát A&S frá sjónarhorni kerfisins? Nei
- Bestu venju WB? Nei vantar "skal" inní setningu.
- Of gróf krafa? Já, mætti brjóta í fleiri smærri skref.
- Tengja kröfur við samhengi? Já - virknikröfur - viðskiptakröfur - Notendakröfur - Ytri skil
- FR-4 ↔ BR-1 ↔ UR2
---
## Endurbætt útgáfa

| **Hvaða virkni á kerfið að bjóða?** | **Dæmi um aðgerð / prófun:** |
|------------------------------------|------------------------------|
| • Kerfið skal breyta stöðu bókar í **„Frátekin“** þegar notandi pantar bók á **Mínum síðum**. <br><br> • Kerfið skal birta skilaboð: *„Bókin hefur verið frátekin fyrir þig í 48 klst.“* <br><br> • Ef fleiri en eitt eintak er til, skal aðeins eitt eintak breytast í stöðuna **„Frátekin“**. <br><br> • Ef ekkert eintak er tiltækt (allar bækur eru „í útláni“ eða „fráteknar“), skal sýna villuboð: *„Engin eintök tiltæk til frátekningar.“* | **Dæmi:** <br> Notandi fer inn á **Mínar síður**, velur bókina *Harry Potter og viskusteinninn* og smellir á **„Panta bók“**. <br><br> **Fyrir aðgerð:** bókin hefur stöðu *„Í hillum“*, fjöldi tiltækra eintaka = 2. <br> **Eftir aðgerð:** kerfið uppfærir stöðu eins eintaks í *„Frátekin“* og birtir skilaboð: *„Bókin hefur verið frátekin fyrir þig í 48 klst.“* |






**Rökstuðningur fyrir breytingum:**  
"Skal" var bætt inn á nokkrum stöðum.
Þessi útgáfa gerir kröfuna mælanlega. Hún tryggir að kerfið haldi utan um stöðu bóka í rauntíma og að notendur geti ekki pantað bók sem þegar er í útláni eða þegar frátekin.
Að auki eykur hún notendavæni með skýrum skilaboðum um stöðu og gildistíma frátekningar

---

**Hver skrifaði:**  
Kristín Sesselja Róbertsdóttir

**Hver skrifaði Pull Request:**  
Arnþór Atli Atlason
